---
title: Ripristino dei pacchetti NuGet
description: Panoramica della modalità di ripristino dei pacchetti NuGet da cui dipende un progetto, inclusa la procedura per disabilitare il ripristino e vincolare le versioni.
author: karann-msft
ms.author: karann
ms.date: 08/05/2019
ms.topic: conceptual
ms.openlocfilehash: 0edfa1f61e6b18ef38689ed2272b2c5992a46ae6
ms.sourcegitcommit: b138bc1d49fbf13b63d975c581a53be4283b7ebf
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/03/2020
ms.locfileid: "93237848"
---
# <a name="restore-packages-using-package-restore"></a><span data-ttu-id="5846e-103">Ripristinare i pacchetti con Ripristino pacchetto</span><span class="sxs-lookup"><span data-stu-id="5846e-103">Restore packages using Package Restore</span></span>

<span data-ttu-id="5846e-104">Per ottenere un ambiente di sviluppo più ordinato e ridurre le dimensioni dei repository, l'opzione **Ripristino pacchetto** di NuGet installa tutte le dipendenze di un progetto elencate nel file di progetto o in `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="5846e-104">To promote a cleaner development environment and to reduce repository size, NuGet **Package Restore** installs all of a project's dependencies listed in either the project file or `packages.config`.</span></span> <span data-ttu-id="5846e-105">I comandi `dotnet build` e `dotnet run` di .NET Core 2.0 + eseguono un ripristino automatico dei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="5846e-105">The .NET Core 2.0+ `dotnet build` and `dotnet run` commands do an automatic package restore.</span></span> <span data-ttu-id="5846e-106">Visual Studio può ripristinare i pacchetti automaticamente durante la compilazione di un progetto. È possibile ripristinare i pacchetti in qualsiasi momento usando Visual Studio, `nuget restore`, `dotnet restore`e xbuild in Mono.</span><span class="sxs-lookup"><span data-stu-id="5846e-106">Visual Studio can restore packages automatically when it builds a project, and you can restore packages at any time through Visual Studio, `nuget restore`, `dotnet restore`, and xbuild on Mono.</span></span>

<span data-ttu-id="5846e-107">Con l'opzione Ripristino pacchetto si garantisce che tutte le dipendenze di un progetto siano disponibili senza che sia necessario archiviare i pacchetti nel controllo del codice sorgente.</span><span class="sxs-lookup"><span data-stu-id="5846e-107">Package Restore makes sure that all a project's dependencies are available, without having to store them in source control.</span></span> <span data-ttu-id="5846e-108">Vedere [Pacchetti e controllo del codice sorgente](../consume-packages/packages-and-source-control.md) per configurare il repository del controllo del codice sorgente per escludere i file binari dei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="5846e-108">To configure your source control repository to exclude the package binaries, see [Packages and source control](../consume-packages/packages-and-source-control.md).</span></span> 

## <a name="package-restore-overview"></a><span data-ttu-id="5846e-109">Panoramica del ripristino dei pacchetti</span><span class="sxs-lookup"><span data-stu-id="5846e-109">Package Restore overview</span></span>

<span data-ttu-id="5846e-110">L'opzione Ripristino pacchetto installa prima di tutto le dipendenze dirette di un progetto in base alle esigenze, quindi installa eventuali dipendenze di tali pacchetti in tutto il grafico dipendenze.</span><span class="sxs-lookup"><span data-stu-id="5846e-110">Package Restore first installs the direct dependencies of a project as needed, then installs any dependencies of those packages throughout the entire dependency graph.</span></span>

<span data-ttu-id="5846e-111">Se un pacchetto non è già installato, NuGet tenta prima di tutto di recuperarlo dalla [cache](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="5846e-111">If a package isn't already installed, NuGet first attempts to retrieve it from the [cache](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span> <span data-ttu-id="5846e-112">Se il pacchetto non è presente nella cache, NuGet tenta di scaricare il pacchetto da tutte le origini abilitate nell'elenco in **strumenti**  >  **Opzioni Opzioni**  >  pacchetti di **Gestione pacchetti NuGet**  >  **Package Sources** in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5846e-112">If the package isn't in the cache, NuGet tries to download the package from all enabled sources in the list at **Tools** > **Options** > **NuGet Package Manager** > **Package Sources** in Visual Studio.</span></span> <span data-ttu-id="5846e-113">Durante il ripristino NuGet ignora l'ordine delle origini dei pacchetti e usa il pacchetto da una delle origini che per prima risponde alle richieste.</span><span class="sxs-lookup"><span data-stu-id="5846e-113">During restore, NuGet ignores the order of package sources, and uses the package from whichever source is first to respond to requests.</span></span> <span data-ttu-id="5846e-114">Per altre informazioni sul comportamento di NuGet, vedere [Configurazioni comuni di NuGet](Configuring-NuGet-Behavior.md).</span><span class="sxs-lookup"><span data-stu-id="5846e-114">For more information about how NuGet behaves, see [Common NuGet configurations](Configuring-NuGet-Behavior.md).</span></span> 

> [!Note]
> <span data-ttu-id="5846e-115">NuGet non indica un errore di ripristino di un pacchetto fino a quando non sono state controllate tutte le origini.</span><span class="sxs-lookup"><span data-stu-id="5846e-115">NuGet doesn't indicate a failure to restore a package until all the sources have been checked.</span></span> <span data-ttu-id="5846e-116">In quel momento, NuGet segnala un errore solo per l'ultima origine nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="5846e-116">At that time, NuGet reports a failure for only the last source in the list.</span></span> <span data-ttu-id="5846e-117">Questo tipo di errore implica che il pacchetto non era presente in *alcuna* delle origini, anche se gli errori non vengono visualizzati singolarmente per ogni origine.</span><span class="sxs-lookup"><span data-stu-id="5846e-117">The error implies that the package wasn't present on *any* of the other sources, even though errors aren't shown for each of those sources individually.</span></span>

## <a name="restore-packages"></a><span data-ttu-id="5846e-118">Ripristinare pacchetti</span><span class="sxs-lookup"><span data-stu-id="5846e-118">Restore packages</span></span>

<span data-ttu-id="5846e-119">Ripristino pacchetto tenta di installare tutte le dipendenze del pacchetto nello stato corretto che corrisponde ai riferimenti al pacchetto nel file di progetto (con estensione *csproj* ) o nel file *packages.config* .</span><span class="sxs-lookup"><span data-stu-id="5846e-119">Package Restore tries to install all package dependencies to the correct state matching the package references in your project file ( *.csproj* ) or your *packages.config* file.</span></span> <span data-ttu-id="5846e-120">In Visual Studio i riferimenti vengono visualizzati in Esplora soluzioni nel nodo **Dipendenze \ NuGet** o **Riferimenti** .</span><span class="sxs-lookup"><span data-stu-id="5846e-120">(In Visual Studio, the references appear in Solution Explorer under the **Dependencies \ NuGet** or the **References** node.)</span></span>

1. <span data-ttu-id="5846e-121">Se i riferimenti al pacchetto nel file di progetto sono corretti, usare lo strumento preferito per ripristinare i pacchetti.</span><span class="sxs-lookup"><span data-stu-id="5846e-121">If the package references in your project file are correct, use your preferred tool to restore packages.</span></span>

   - <span data-ttu-id="5846e-122">[Visual Studio](#restore-using-visual-studio) ([ripristino automatico](#restore-packages-automatically-using-visual-studio) o [ripristino manuale](#restore-packages-manually-using-visual-studio))</span><span class="sxs-lookup"><span data-stu-id="5846e-122">[Visual Studio](#restore-using-visual-studio) ([automatic restore](#restore-packages-automatically-using-visual-studio) or [manual restore](#restore-packages-manually-using-visual-studio))</span></span>
   - [<span data-ttu-id="5846e-123">Interfaccia della riga di comando di dotnet</span><span class="sxs-lookup"><span data-stu-id="5846e-123">dotnet CLI</span></span>](#restore-using-the-dotnet-cli)
   - [<span data-ttu-id="5846e-124">Interfaccia della riga di comando di nuget.exe</span><span class="sxs-lookup"><span data-stu-id="5846e-124">nuget.exe CLI</span></span>](#restore-using-the-nugetexe-cli)
   - [<span data-ttu-id="5846e-125">MSBuild</span><span class="sxs-lookup"><span data-stu-id="5846e-125">MSBuild</span></span>](#restore-using-msbuild)
   - [<span data-ttu-id="5846e-126">Azure Pipelines</span><span class="sxs-lookup"><span data-stu-id="5846e-126">Azure Pipelines</span></span>](#restore-using-azure-pipelines)
   - [<span data-ttu-id="5846e-127">Azure DevOps Server</span><span class="sxs-lookup"><span data-stu-id="5846e-127">Azure DevOps Server</span></span>](#restore-using-azure-devops-server)

   <span data-ttu-id="5846e-128">Se i riferimenti al pacchetto nel file di progetto (con estensione *csproj* ) o nel file *packages.config* non sono corretti (non corrispondono allo stato desiderato dopo il ripristino del pacchetto), è necessario installare o aggiornare i pacchetti.</span><span class="sxs-lookup"><span data-stu-id="5846e-128">If the package references in your project file ( *.csproj* ) or your *packages.config* file are incorrect (they do not match your desired state following Package Restore), then you need to either install or update packages instead.</span></span>

   <span data-ttu-id="5846e-129">Per i progetti che usano PackageReference, dopo un ripristino riuscito il pacchetto dovrebbe essere presente nella cartella *global-packages* e il file `obj/project.assets.json` viene ricreato.</span><span class="sxs-lookup"><span data-stu-id="5846e-129">For projects using PackageReference, after a successful restore, the package should be present in the *global-packages* folder and the `obj/project.assets.json` file is recreated.</span></span> <span data-ttu-id="5846e-130">Per i progetti che usano `packages.config`, il pacchetto dovrebbe essere visualizzato nella cartella `packages` del progetto.</span><span class="sxs-lookup"><span data-stu-id="5846e-130">For projects using `packages.config`, the package should appear in the project's `packages` folder.</span></span> <span data-ttu-id="5846e-131">La compilazione del progetto dovrebbe ora avvenire senza problemi.</span><span class="sxs-lookup"><span data-stu-id="5846e-131">The project should now build successfully.</span></span> 

2. <span data-ttu-id="5846e-132">Dopo l'esecuzione di Ripristino pacchetto, se si verificano ancora pacchetti mancanti o errori correlati al pacchetto (ad esempio, icone di errore in Esplora soluzioni in Visual Studio), potrebbe essere necessario seguire le istruzioni descritte in [Risoluzione degli errori relativi al ripristino dei pacchetti](package-restore-troubleshooting.md) o, in alternativa, [reinstallare e aggiornare i pacchetti](../consume-packages/reinstalling-and-updating-packages.md).</span><span class="sxs-lookup"><span data-stu-id="5846e-132">After running Package Restore, if you still experience missing packages or package-related errors (such as error icons in Solution Explorer in Visual Studio), you may need to follow instructions described in [Troubleshooting Package Restore errors](package-restore-troubleshooting.md) or, alternatively, [reinstall and update packages](../consume-packages/reinstalling-and-updating-packages.md).</span></span>

   <span data-ttu-id="5846e-133">In Visual Studio la console di gestione pacchetti offre diverse opzioni flessibili per la reinstallazione dei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="5846e-133">In Visual Studio, the Package Manager Console provides several flexible options for reinstalling packages.</span></span> <span data-ttu-id="5846e-134">Vedere [Uso di Package-Update](reinstalling-and-updating-packages.md#using-update-package).</span><span class="sxs-lookup"><span data-stu-id="5846e-134">See [Using Package-Update](reinstalling-and-updating-packages.md#using-update-package).</span></span>

## <a name="restore-using-visual-studio"></a><span data-ttu-id="5846e-135">Eseguire il ripristino con Visual Studio</span><span class="sxs-lookup"><span data-stu-id="5846e-135">Restore using Visual Studio</span></span>

<span data-ttu-id="5846e-136">In Visual Studio in Windows, eseguire una delle operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="5846e-136">In Visual Studio on Windows, either:</span></span>

- <span data-ttu-id="5846e-137">Ripristinare automaticamente i pacchetti, oppure</span><span class="sxs-lookup"><span data-stu-id="5846e-137">Restore packages automatically, or</span></span>

- <span data-ttu-id="5846e-138">Ripristinare manualmente i pacchetti</span><span class="sxs-lookup"><span data-stu-id="5846e-138">Restore packages manually</span></span>

### <a name="restore-packages-automatically-using-visual-studio"></a><span data-ttu-id="5846e-139">Ripristinare automaticamente i pacchetti con Visual Studio</span><span class="sxs-lookup"><span data-stu-id="5846e-139">Restore packages automatically using Visual Studio</span></span>

<span data-ttu-id="5846e-140">Il ripristino dei pacchetti viene eseguito automaticamente quando si crea un progetto da un modello o si compila un progetto. Tale comportamento è soggetto alle opzioni impostate in [Abilitare e disabilitare il ripristino dei pacchetti](#enable-and-disable-package-restore-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="5846e-140">Package Restore happens automatically when you create a project from a template or build a project, subject to the options in [Enable and disable package restore](#enable-and-disable-package-restore-in-visual-studio).</span></span> <span data-ttu-id="5846e-141">In NuGet 4.0 +, il ripristino avviene automaticamente quando si apportano modifiche a un progetto di tipo SDK (in genere un progetto .NET Core o .NET Standard).</span><span class="sxs-lookup"><span data-stu-id="5846e-141">In NuGet 4.0+, restore also happens automatically when you make changes to a SDK-style project (typically a .NET Core or .NET Standard project).</span></span>

1. <span data-ttu-id="5846e-142">Abilitare il ripristino automatico dei pacchetti scegliendo **strumenti**  >  **Opzioni**  >  **Gestione pacchetti NuGet** , quindi selezionare **verifica automaticamente i pacchetti mancanti durante la compilazione in Visual Studio** in **ripristino pacchetto** .</span><span class="sxs-lookup"><span data-stu-id="5846e-142">Enable automatic package restore by choosing **Tools** > **Options** > **NuGet Package Manager** , and then selecting **Automatically check for missing packages during build in Visual Studio** under **Package Restore** .</span></span>

   <span data-ttu-id="5846e-143">Per i progetti non in stile SDK, è prima di tutto necessario selezionare **Consenti a NuGet di scaricare i pacchetti mancanti** per abilitare l'opzione di ripristino automatico.</span><span class="sxs-lookup"><span data-stu-id="5846e-143">For non-SDK-style projects, you first need to select **Allow NuGet to download missing packages** to enable the automatic restore option.</span></span>

1. <span data-ttu-id="5846e-144">Compilare il progetto.</span><span class="sxs-lookup"><span data-stu-id="5846e-144">Build the project.</span></span>

   <span data-ttu-id="5846e-145">Se uno o più pacchetti singoli non sono ancora installati correttamente, in **Esplora soluzioni** viene visualizzata un'icona di errore.</span><span class="sxs-lookup"><span data-stu-id="5846e-145">If one or more individual packages still aren't installed properly, **Solution Explorer** shows an error icon.</span></span> <span data-ttu-id="5846e-146">Fare clic con il pulsante destro del mouse e selezionare **Gestisci pacchetti NuGet** . Usare **Gestione pacchetti** per disinstallare e reinstallare i pacchetti interessati.</span><span class="sxs-lookup"><span data-stu-id="5846e-146">Right-click and select **Manage NuGet Packages** , and use **Package Manager** to uninstall and reinstall the affected packages.</span></span> <span data-ttu-id="5846e-147">Per altre informazioni, vedere [Reinstallare e aggiornare pacchetti](../consume-packages/reinstalling-and-updating-packages.md)</span><span class="sxs-lookup"><span data-stu-id="5846e-147">For more information, see [Reinstall and update packages](../consume-packages/reinstalling-and-updating-packages.md)</span></span>

   <span data-ttu-id="5846e-148">Se viene visualizzato l'errore "Questo progetto fa riferimento a uno o più pacchetti NuGet che non sono presenti in questo computer" o "Impossibile ripristinare uno o più pacchetti NuGet perché il consenso non è stato concesso", [abilitare il ripristino automatico](#enable-and-disable-package-restore-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="5846e-148">If you see the error "This project references NuGet package(s) that are missing on this computer," or "One or more NuGet packages need to be restored but couldn't be because consent has not been granted," [enable automatic restore](#enable-and-disable-package-restore-in-visual-studio).</span></span> <span data-ttu-id="5846e-149">Per i progetti precedenti, vedere anche [Eseguire la migrazione al ripristino automatico dei pacchetti](#migrate-to-automatic-package-restore-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="5846e-149">For older projects, also see [Migrate to automatic package restore](#migrate-to-automatic-package-restore-visual-studio).</span></span> <span data-ttu-id="5846e-150">Vedere anche [risoluzione dei problemi relativi al ripristino dei pacchetti](Package-restore-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="5846e-150">Also see [Package Restore troubleshooting](Package-restore-troubleshooting.md).</span></span>

### <a name="restore-packages-manually-using-visual-studio"></a><span data-ttu-id="5846e-151">Ripristinare i pacchetti manualmente con Visual Studio</span><span class="sxs-lookup"><span data-stu-id="5846e-151">Restore packages manually using Visual Studio</span></span>

1. <span data-ttu-id="5846e-152">Abilitare il ripristino del pacchetto scegliendo **strumenti**  >  **Opzioni**  >  **Gestione pacchetti NuGet** .</span><span class="sxs-lookup"><span data-stu-id="5846e-152">Enable package restore by choosing **Tools** > **Options** > **NuGet Package Manager** .</span></span> <span data-ttu-id="5846e-153">Nelle opzioni di **Ripristino pacchetti** selezionare **Consenti a NuGet di scaricare i pacchetti mancanti** .</span><span class="sxs-lookup"><span data-stu-id="5846e-153">Under **Package Restore** options, select **Allow NuGet to download missing packages** .</span></span>

1. <span data-ttu-id="5846e-154">Fare clic con il pulsante destro del mouse sulla soluzione in **Esplora soluzioni** e scegliere **Ripristina pacchetti NuGet** .</span><span class="sxs-lookup"><span data-stu-id="5846e-154">In **Solution Explorer** , right click the solution and select **Restore NuGet Packages** .</span></span>

   <span data-ttu-id="5846e-155">Se uno o più pacchetti singoli non sono ancora installati correttamente, in **Esplora soluzioni** viene visualizzata un'icona di errore.</span><span class="sxs-lookup"><span data-stu-id="5846e-155">If one or more individual packages still aren't installed properly, **Solution Explorer** shows an error icon.</span></span> <span data-ttu-id="5846e-156">Fare clic con il pulsante destro del mouse e scegliere **Gestisci pacchetti NuGet** , quindi usare **Gestione pacchetti** per disinstallare e reinstallare i pacchetti interessati.</span><span class="sxs-lookup"><span data-stu-id="5846e-156">Right-click and select **Manage NuGet Packages** , and then use **Package Manager** to uninstall and reinstall the affected packages.</span></span> <span data-ttu-id="5846e-157">Per altre informazioni, vedere [Reinstallare e aggiornare pacchetti](../consume-packages/reinstalling-and-updating-packages.md)</span><span class="sxs-lookup"><span data-stu-id="5846e-157">For more information, see [Reinstall and update packages](../consume-packages/reinstalling-and-updating-packages.md)</span></span>

   <span data-ttu-id="5846e-158">Se viene visualizzato l'errore "Questo progetto fa riferimento a uno o più pacchetti NuGet che non sono presenti in questo computer" o "Impossibile ripristinare uno o più pacchetti NuGet perché il consenso non è stato concesso", [abilitare il ripristino automatico](#enable-and-disable-package-restore-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="5846e-158">If you see the error "This project references NuGet package(s) that are missing on this computer," or "One or more NuGet packages need to be restored but couldn't be because consent has not been granted," [enable automatic restore](#enable-and-disable-package-restore-in-visual-studio).</span></span> <span data-ttu-id="5846e-159">Per i progetti precedenti, vedere anche [Eseguire la migrazione al ripristino automatico dei pacchetti](#migrate-to-automatic-package-restore-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="5846e-159">For older projects, also see [Migrate to automatic package restore](#migrate-to-automatic-package-restore-visual-studio).</span></span> <span data-ttu-id="5846e-160">Vedere anche [risoluzione dei problemi relativi al ripristino dei pacchetti](Package-restore-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="5846e-160">Also see [Package Restore troubleshooting](Package-restore-troubleshooting.md).</span></span>

### <a name="enable-and-disable-package-restore-in-visual-studio"></a><span data-ttu-id="5846e-161">Abilitare e disabilitare il ripristino dei pacchetti in Visual Studio</span><span class="sxs-lookup"><span data-stu-id="5846e-161">Enable and disable package restore in Visual Studio</span></span>

<span data-ttu-id="5846e-162">In Visual Studio è possibile controllare il ripristino dei pacchetti principalmente tramite **strumenti**  >  **Opzioni**  >  **Gestione pacchetti NuGet** :</span><span class="sxs-lookup"><span data-stu-id="5846e-162">In Visual Studio, you control Package Restore primarily through **Tools** > **Options** > **NuGet Package Manager** :</span></span>

![Controllo di Ripristino pacchetto con le opzioni di Gestione pacchetti NuGet](media/Restore-01-AutoRestoreOptions.png)

- <span data-ttu-id="5846e-164">**Consenti a NuGet di scaricare i pacchetti mancanti** controlla tutte le forme di ripristino dei pacchetti modificando l'impostazione `packageRestore/enabled` nella [sezione packageRestore](../reference/nuget-config-file.md#packagerestore-section) del file `NuGet.Config`, in `%AppData%\NuGet\` in Windows o in `~/.nuget/NuGet/` in Mac/Linux.</span><span class="sxs-lookup"><span data-stu-id="5846e-164">**Allow NuGet to download missing packages** controls all forms of package restore by changing the `packageRestore/enabled` setting in the [packageRestore section](../reference/nuget-config-file.md#packagerestore-section) of the `NuGet.Config` file, at `%AppData%\NuGet\` on Windows, or `~/.nuget/NuGet/` on Mac/Linux.</span></span> <span data-ttu-id="5846e-165">Questa impostazione abilita anche il comando **Ripristina pacchetti NuGet** nel menu di scelta rapida della soluzione in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5846e-165">This setting also enables the **Restore NuGet Packages** command on the solution's context menu in Visual Studio, .</span></span>

    ```xml
    <configuration>
        <packageRestore>
            <!-- The 'enabled' key is True when the "Allow NuGet to download missing packages" checkbox is set.
                 Clearing the box sets this to False, disabling command-line, automatic, and MSBuild-integrated restore. -->
            <add key="enabled" value="True" />
        </packageRestore>
    </configuration>
    ```
    
  > [!Note]
  > <span data-ttu-id="5846e-166">Per sovrascrivere l'impostazione `packageRestore/enabled` a livello globale, impostare la variabile d'ambiente **EnableNuGetPackageRestore** con valore True o False prima di avviare Visual Studio o una compilazione.</span><span class="sxs-lookup"><span data-stu-id="5846e-166">To globally override the `packageRestore/enabled` setting, set the environment variable **EnableNuGetPackageRestore** with a value of True or False before launching Visual Studio or starting a build.</span></span>

- <span data-ttu-id="5846e-167">**Verificare in automatico i pacchetti mancanti durante il build in Visual Studio** controlla il ripristino automatico modificando l'impostazione `packageRestore/automatic` nella [sezione packageRestore](../reference/nuget-config-file.md#packagerestore-section) del file `NuGet.Config`.</span><span class="sxs-lookup"><span data-stu-id="5846e-167">**Automatically check for missing packages during build in Visual Studio** controls automatic restore by changing the `packageRestore/automatic` setting in the [packageRestore section](../reference/nuget-config-file.md#packagerestore-section) of the `NuGet.Config` file.</span></span> <span data-ttu-id="5846e-168">Quando questa opzione è impostata su True, l'esecuzione di una compilazione da Visual Studio ripristina automaticamente eventuali pacchetti mancanti.</span><span class="sxs-lookup"><span data-stu-id="5846e-168">When this option is set to True, running a build from Visual Studio automatically restores any missing packages.</span></span> <span data-ttu-id="5846e-169">Questa impostazione non influisce sulle compilazioni eseguite dalla riga di comando di MSBuild.</span><span class="sxs-lookup"><span data-stu-id="5846e-169">This setting doesn't affect builds run from the MSBuild command line.</span></span>

    ```xml
    ...
    <configuration>
        <packageRestore>
            <!-- The 'automatic' key is set to True when the "Automatically check for missing packages during
                 build in Visual Studio" checkbox is set. Clearing the box sets this to False and disables
                 automatic restore. -->
            <add key="automatic" value="True" />
        </packageRestore>
    </configuration>
    ```

<span data-ttu-id="5846e-170">Per abilitare o disabilitare l'opzione Ripristino pacchetto per tutti gli utenti in un computer, uno sviluppatore o un'azienda può aggiungere le impostazioni di configurazione al file globale `nuget.config`.</span><span class="sxs-lookup"><span data-stu-id="5846e-170">To enable or disable Package Restore for all users on a computer, a developer or company can add the configuration settings to the global `nuget.config` file.</span></span> <span data-ttu-id="5846e-171">In Windows il file globale `nuget.config` si trova in `%ProgramData%\NuGet\Config`, a volte in una cartella specifica `\{IDE}\{Version}\{SKU}\` di Visual Studio. In Mac/Linux si trova in `~/.local/share`.</span><span class="sxs-lookup"><span data-stu-id="5846e-171">The global `nuget.config` is in Windows at `%ProgramData%\NuGet\Config`, sometimes under a specific `\{IDE}\{Version}\{SKU}\` Visual Studio folder, or in Mac/Linux at `~/.local/share`.</span></span> <span data-ttu-id="5846e-172">I singoli utenti possono quindi abilitare il ripristino in modo selettivo, in base alle esigenze a livello di progetto.</span><span class="sxs-lookup"><span data-stu-id="5846e-172">Individual users can then selectively enable restore as needed on a project level.</span></span> <span data-ttu-id="5846e-173">Per informazioni dettagliate su come NuGet assegna la priorità a più file di configurazione, vedere [Configurazioni comuni di NuGet](../consume-packages/configuring-nuget-behavior.md#how-settings-are-applied).</span><span class="sxs-lookup"><span data-stu-id="5846e-173">For more details on how NuGet prioritizes multiple config files, see [Common NuGet configurations](../consume-packages/configuring-nuget-behavior.md#how-settings-are-applied).</span></span>

> [!Important]
> <span data-ttu-id="5846e-174">Se si modificano le impostazioni `packageRestore` direttamente in `nuget.config`, riavviare Visual Studio per visualizzare i valori correnti nella finestra di dialogo **Opzioni** .</span><span class="sxs-lookup"><span data-stu-id="5846e-174">If you edit the `packageRestore` settings directly in `nuget.config`, restart Visual Studio, so that the **Options** dialog box shows the current values.</span></span>

### <a name="choose-default-package-management-format"></a><span data-ttu-id="5846e-175">Scegliere il formato di gestione pacchetti predefinito</span><span class="sxs-lookup"><span data-stu-id="5846e-175">Choose default package management format</span></span>

![Controllare il formato di gestione pacchetti predefinito anche se le opzioni di gestione pacchetti NuGet](media/Restore-02-PackageFormatOptions.png)

<span data-ttu-id="5846e-177">NuGet presenta due formati in cui un progetto può usare i pacchetti: [`PackageReference`](package-references-in-project-files.md) e [`packages.config`](../reference/packages-config.md) .</span><span class="sxs-lookup"><span data-stu-id="5846e-177">NuGet has two formats in which a project may use packages: [`PackageReference`](package-references-in-project-files.md) and [`packages.config`](../reference/packages-config.md).</span></span> <span data-ttu-id="5846e-178">Il formato predefinito può essere selezionato nell'elenco a discesa sotto l'intestazione **Gestione pacchetti** .</span><span class="sxs-lookup"><span data-stu-id="5846e-178">The default format can be selected from the drop-down under the **Package Management** heading.</span></span> <span data-ttu-id="5846e-179">È disponibile anche un'opzione che indica quando è installato il primo pacchetto in un progetto.</span><span class="sxs-lookup"><span data-stu-id="5846e-179">An option to be prompted when the first package is installed in a project is also available.</span></span>

> [!Note]
> <span data-ttu-id="5846e-180">Se un progetto non supporta entrambi i formati di gestione dei pacchetti, il formato di gestione dei pacchetti utilizzato sarà quello compatibile con il progetto e pertanto potrebbe non essere il set predefinito nelle opzioni.</span><span class="sxs-lookup"><span data-stu-id="5846e-180">If a project does not support both package management formats, the package management format used will be the one that's compatible with the project, and therefore may not be the default set in the options.</span></span> <span data-ttu-id="5846e-181">NuGet, inoltre, non richiede la selezione nella prima installazione del pacchetto, anche se l'opzione è selezionata nella finestra Opzioni.</span><span class="sxs-lookup"><span data-stu-id="5846e-181">Additionally, NuGet will not prompt for selection on first package installation, even if the option is selected in the options window.</span></span>
>
> <span data-ttu-id="5846e-182">Se si usa la console di gestione pacchetti per installare il primo pacchetto in un progetto, NuGet non richiede la selezione del formato, anche se l'opzione è selezionata nella finestra Opzioni.</span><span class="sxs-lookup"><span data-stu-id="5846e-182">If Package Manager Console is used to install the first package in a project, NuGet will not prompt for format selection, even if the option is selected in the options window.</span></span>

## <a name="restore-using-the-dotnet-cli"></a><span data-ttu-id="5846e-183">Eseguire il ripristino usando l'interfaccia della riga di comando dotnet</span><span class="sxs-lookup"><span data-stu-id="5846e-183">Restore using the dotnet CLI</span></span>

[!INCLUDE [restore-dotnet-cli](includes/restore-dotnet-cli.md)]

> [!IMPORTANT]
> <span data-ttu-id="5846e-184">Per aggiungere un riferimento al pacchetto mancante al file di progetto, usare [dotnet add package](/dotnet/core/tools/dotnet-add-package?tabs=netcore2x), che esegue anche il comando `restore`.</span><span class="sxs-lookup"><span data-stu-id="5846e-184">To add a missing package reference to the project file, use [dotnet add package](/dotnet/core/tools/dotnet-add-package?tabs=netcore2x), which also runs the `restore` command.</span></span>

## <a name="restore-using-the-nugetexe-cli"></a><span data-ttu-id="5846e-185">Eseguire il ripristino usando l'interfaccia della riga di comando nuget.exe</span><span class="sxs-lookup"><span data-stu-id="5846e-185">Restore using the nuget.exe CLI</span></span>

[!INCLUDE [restore-nuget-exe-cli](includes/restore-nuget-exe-cli.md)]

> [!IMPORTANT]
> <span data-ttu-id="5846e-186">Il `restore` comando non modifica un file di progetto o *packages.config* . Per aggiungere una dipendenza, aggiungere un pacchetto tramite l'interfaccia utente o la console di gestione pacchetti in Visual Studio oppure modificare *packages.config* , quindi eseguire `install` o `restore` .</span><span class="sxs-lookup"><span data-stu-id="5846e-186">The `restore` command does not modify a project file or *packages.config* . To add a dependency, either add a package through the Package Manager UI or Console in Visual Studio, or modify *packages.config* and then run either `install` or `restore`.</span></span>

## <a name="restore-using-msbuild"></a><span data-ttu-id="5846e-187">Eseguire il ripristino con MSBuild</span><span class="sxs-lookup"><span data-stu-id="5846e-187">Restore using MSBuild</span></span>

<span data-ttu-id="5846e-188">Per ripristinare i pacchetti elencati nel file di progetto con PackageReference, usare il comando [msbuild -t:restore](../reference/msbuild-targets.md#restore-target).</span><span class="sxs-lookup"><span data-stu-id="5846e-188">To restore packages listed in the project file with PackageReference, use the the [msbuild -t:restore](../reference/msbuild-targets.md#restore-target) command.</span></span> <span data-ttu-id="5846e-189">Questo comando è disponibile solo in NuGet 4.x+ e MSBuild 15.1 +, inclusi con Visual Studio 2017 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="5846e-189">This command is available only in NuGet 4.x+ and MSBuild 15.1+, which are included with Visual Studio 2017 and higher versions.</span></span> <span data-ttu-id="5846e-190">Sia `nuget restore` che `dotnet restore` usano questo comando per i progetti applicabili.</span><span class="sxs-lookup"><span data-stu-id="5846e-190">Both `nuget restore` and `dotnet restore` use this command for applicable projects.</span></span>

1. <span data-ttu-id="5846e-191">Aprire un prompt dei comandi per gli sviluppatori digitando **Prompt dei comandi per gli sviluppatori** nella casella **Cerca** .</span><span class="sxs-lookup"><span data-stu-id="5846e-191">Open a Developer command prompt (In the **Search** box, type **Developer command prompt** ).</span></span>

   <span data-ttu-id="5846e-192">In genere, è consigliabile avviare il prompt dei comandi per gli sviluppatori per Visual Studio dal menu **Start** , in modo che venga configurato con tutti i percorsi necessari per MSBuild.</span><span class="sxs-lookup"><span data-stu-id="5846e-192">You typically want to start the Developer Command Prompt for Visual Studio from the **Start** menu, as it will be configured with all the necessary paths for MSBuild.</span></span>

2. <span data-ttu-id="5846e-193">Passare alla cartella contenente il file di progetto e digitare il comando seguente.</span><span class="sxs-lookup"><span data-stu-id="5846e-193">Switch to the folder containing the project file and type the following command.</span></span>

   ```cmd
   # Uses the project file in the current folder by default
   msbuild -t:restore
   ```

3. <span data-ttu-id="5846e-194">Digitare il comando seguente per ricompilare il progetto.</span><span class="sxs-lookup"><span data-stu-id="5846e-194">Type the following command to rebuild the project.</span></span>

   ```cmd
   msbuild
   ```

   <span data-ttu-id="5846e-195">Verificare che l'output di MSBuild indichi che la compilazione è stata completata correttamente.</span><span class="sxs-lookup"><span data-stu-id="5846e-195">Make sure that the MSBuild output indicates that the build completed successfully.</span></span>
   
> [!Note]
> <span data-ttu-id="5846e-196">MSBuild dispone di un' `-restore` opzione che verrà eseguita `Restore` , ricaricare il progetto e quindi compilare.</span><span class="sxs-lookup"><span data-stu-id="5846e-196">msbuild has a `-restore` switch which will run `Restore`, reload the project, and then build.</span></span> <span data-ttu-id="5846e-197">Vedere [ripristino e compilazione con un comando di MSBuild](/nuget/reference/msbuild-targets#restoring-and-building-with-one-msbuild-command).</span><span class="sxs-lookup"><span data-stu-id="5846e-197">See [Restoring and building with one MSBuild command](/nuget/reference/msbuild-targets#restoring-and-building-with-one-msbuild-command).</span></span>

```cmd
# Will restore the project, then build, since build is the default target.
msbuild -restore
```

## <a name="restore-using-azure-pipelines"></a><span data-ttu-id="5846e-198">Eseguire il ripristino con Azure Pipelines</span><span class="sxs-lookup"><span data-stu-id="5846e-198">Restore using Azure Pipelines</span></span>

<span data-ttu-id="5846e-199">quando si crea una definizione di compilazione in Azure Pipelines, includere l'attività di [ripristino](/azure/devops/pipelines/tasks/package/nuget#restore-nuget-packages) di NuGet o l'attività di [ripristino](/azure/devops/pipelines/tasks/build/dotnet-core-cli?view=azure-devops) di .NET Core nella definizione prima di qualsiasi attività di compilazione.</span><span class="sxs-lookup"><span data-stu-id="5846e-199">When you create a build definition in Azure Pipelines, include the NuGet [restore](/azure/devops/pipelines/tasks/package/nuget#restore-nuget-packages) or .NET Core [restore](/azure/devops/pipelines/tasks/build/dotnet-core-cli?view=azure-devops) task in the definition before any build tasks.</span></span> <span data-ttu-id="5846e-200">Alcuni modelli di compilazione includono l'attività di ripristino per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="5846e-200">Some build templates include the restore task by default.</span></span>

## <a name="restore-using-azure-devops-server"></a><span data-ttu-id="5846e-201">Eseguire il ripristino con Azure DevOps Server</span><span class="sxs-lookup"><span data-stu-id="5846e-201">Restore using Azure DevOps Server</span></span>

<span data-ttu-id="5846e-202">in Azure DevOps Server e TFS 2013 e versioni successive i pacchetti vengono ripristinati automaticamente durante la compilazione, a condizione che si usi un modello di Team Build per TFS 2013 o versioni successive.</span><span class="sxs-lookup"><span data-stu-id="5846e-202">Azure DevOps Server and TFS 2013 and later automatically restore packages during build, if you're using a TFS 2013 or later Team Build template.</span></span> <span data-ttu-id="5846e-203">Per le versioni di TFS precedenti, è possibile includere un passaggio di compilazione per eseguire un'opzione di ripristino dalla riga di comando o eventualmente eseguire la migrazione del modello di compilazione a una versione successiva.</span><span class="sxs-lookup"><span data-stu-id="5846e-203">For earlier TFS versions, you can include a build step to run a command-line restore option, or optionally migrate the build template to a later version.</span></span> <span data-ttu-id="5846e-204">Per altre informazioni, vedere [Configurare il ripristino dei pacchetti con Team Foundation Build](../consume-packages/team-foundation-build.md).</span><span class="sxs-lookup"><span data-stu-id="5846e-204">For more information, see [Set up package restore with Team Foundation Build](../consume-packages/team-foundation-build.md).</span></span>

## <a name="constrain-package-versions-with-restore"></a><span data-ttu-id="5846e-205">Vincolare le versioni dei pacchetti con il ripristino</span><span class="sxs-lookup"><span data-stu-id="5846e-205">Constrain package versions with restore</span></span>

<span data-ttu-id="5846e-206">Quando NuGet ripristina i pacchetti con un metodo qualsiasi, rispetta i vincoli specificati in `packages.config` o nel file di progetto:</span><span class="sxs-lookup"><span data-stu-id="5846e-206">When NuGet restores packages through any method, it honors any constraints you specified in `packages.config` or the project file:</span></span>

- <span data-ttu-id="5846e-207">In `packages.config` è possibile specificare un intervallo di versioni nella proprietà `allowedVersion` della dipendenza.</span><span class="sxs-lookup"><span data-stu-id="5846e-207">In `packages.config`, you can specify a version range in the `allowedVersion` property of the dependency.</span></span> <span data-ttu-id="5846e-208">Vedere [Vincolare le versioni di aggiornamento](../consume-packages/reinstalling-and-updating-packages.md#constraining-upgrade-versions) per altre informazioni.</span><span class="sxs-lookup"><span data-stu-id="5846e-208">See [Constrain upgrade versions](../consume-packages/reinstalling-and-updating-packages.md#constraining-upgrade-versions) for more information.</span></span> <span data-ttu-id="5846e-209">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="5846e-209">For example:</span></span>

    ```xml
    <package id="Newtonsoft.json" version="6.0.4" allowedVersions="[6,7)" />
    ```

- <span data-ttu-id="5846e-210">In un file di progetto è possibile usare PackageReference per specificare direttamente un intervallo di dipendenza.</span><span class="sxs-lookup"><span data-stu-id="5846e-210">In a project file, you can use PackageReference to specify a dependency's range directly.</span></span> <span data-ttu-id="5846e-211">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="5846e-211">For example:</span></span>

    ```xml
    <PackageReference Include="Newtonsoft.json" Version="[6, 7)" />
    ```

<span data-ttu-id="5846e-212">In tutti i casi, usare la notazione descritta in [Controllo delle versioni dei pacchetti](../concepts/package-versioning.md).</span><span class="sxs-lookup"><span data-stu-id="5846e-212">In all cases, use the notation described in [Package versioning](../concepts/package-versioning.md).</span></span>

## <a name="force-restore-from-package-sources"></a><span data-ttu-id="5846e-213">Forzare il ripristino dalle origini dei pacchetti</span><span class="sxs-lookup"><span data-stu-id="5846e-213">Force restore from package sources</span></span>

<span data-ttu-id="5846e-214">Per impostazione predefinita, le operazioni di ripristino di NuGet usano i pacchetti dalle cartelle *global-packages* e *http-cache* , descritte in [Gestire pacchetti globali e cartelle cache](managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="5846e-214">By default, NuGet restore operations use packages from the *global-packages* and *http-cache* folders, which are described in [Manage the global packages and cache folders](managing-the-global-packages-and-cache-folders.md).</span></span>

<span data-ttu-id="5846e-215">Per evitare di usare la cartella *global-packages* , eseguire una delle operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="5846e-215">To avoid using the *global-packages* folder, do one of the following:</span></span>

- <span data-ttu-id="5846e-216">Cancellare la cartella con `nuget locals global-packages -clear` o `dotnet nuget locals global-packages --clear`.</span><span class="sxs-lookup"><span data-stu-id="5846e-216">Clear the folder using `nuget locals global-packages -clear` or `dotnet nuget locals global-packages --clear`.</span></span>
- <span data-ttu-id="5846e-217">Modificare temporaneamente il percorso della cartella *Global-Packages* prima dell'operazione di ripristino, usando uno dei metodi seguenti:</span><span class="sxs-lookup"><span data-stu-id="5846e-217">Temporarily change the location of the *global-packages* folder before the restore operation, using one of the following methods:</span></span>
  - <span data-ttu-id="5846e-218">Impostare la variabile di ambiente NUGET_PACKAGES su una cartella diversa.</span><span class="sxs-lookup"><span data-stu-id="5846e-218">Set the NUGET_PACKAGES environment variable to a different folder.</span></span>
  - <span data-ttu-id="5846e-219">Creare un file `NuGet.Config` che imposta `globalPackagesFolder` (se si usa PackageReference) o `repositoryPath` (se si usa `packages.config`) in una cartella diversa.</span><span class="sxs-lookup"><span data-stu-id="5846e-219">Create a `NuGet.Config` file that sets `globalPackagesFolder` (if using PackageReference) or `repositoryPath` (if using `packages.config`) to a different folder.</span></span> <span data-ttu-id="5846e-220">Per altre informazioni, vedere le [impostazioni di configurazione](../reference/nuget-config-file.md#config-section).</span><span class="sxs-lookup"><span data-stu-id="5846e-220">For more information, see [configuration settings](../reference/nuget-config-file.md#config-section).</span></span>
  - <span data-ttu-id="5846e-221">Solo MSBuild: specificare una cartella diversa con la `RestorePackagesPath` Proprietà.</span><span class="sxs-lookup"><span data-stu-id="5846e-221">MSBuild only: Specify a different folder with the `RestorePackagesPath` property.</span></span>

<span data-ttu-id="5846e-222">Per evitare di usare la cache per le origini HTTP, eseguire una delle operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="5846e-222">To avoid using the cache for HTTP sources, do one of the following:</span></span>

- <span data-ttu-id="5846e-223">Usare l'opzione `-NoCache` con `nuget restore` o l'opzione `--no-cache` con `dotnet restore`.</span><span class="sxs-lookup"><span data-stu-id="5846e-223">Use the `-NoCache` option with `nuget restore`, or the `--no-cache` option with `dotnet restore`.</span></span> <span data-ttu-id="5846e-224">Queste opzioni non influiscono sulle operazioni di ripristino tramite l'interfaccia utente o la console di Gestione pacchetti di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5846e-224">These options don't affect restore operations through the Visual Studio Package Manager or console.</span></span>
- <span data-ttu-id="5846e-225">Cancellare la cache con `nuget locals http-cache -clear` o `dotnet nuget locals http-cache --clear`.</span><span class="sxs-lookup"><span data-stu-id="5846e-225">Clear the cache using `nuget locals http-cache -clear` or `dotnet nuget locals http-cache --clear`.</span></span>
- <span data-ttu-id="5846e-226">Impostare temporaneamente la variabile di ambiente NUGET_HTTP_CACHE_PATH in una cartella diversa.</span><span class="sxs-lookup"><span data-stu-id="5846e-226">Temporarily set the NUGET_HTTP_CACHE_PATH environment variable to a different folder.</span></span>

## <a name="migrate-to-automatic-package-restore-visual-studio"></a><span data-ttu-id="5846e-227">Eseguire la migrazione al ripristino dei pacchetti automatico (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="5846e-227">Migrate to automatic package restore (Visual Studio)</span></span>

<span data-ttu-id="5846e-228">Per NuGet 2.6 e versioni precedenti era precedentemente supportato il ripristino dei pacchetti integrato in MSBuild, ma non è più così.</span><span class="sxs-lookup"><span data-stu-id="5846e-228">For NuGet 2.6 and earlier, an MSBuild-integrated package restore was previously supported but that is no longer true.</span></span> <span data-ttu-id="5846e-229">In genere veniva abilitato facendo clic con il pulsante destro del mouse su una soluzione in Visual Studio e scegliendo **Enable NuGet Package Restore** (Abilita il ripristino dei pacchetti NuGet).</span><span class="sxs-lookup"><span data-stu-id="5846e-229">(It was typically enabled by right-clicking a solution in Visual Studio and selecting **Enable NuGet Package Restore** ).</span></span> <span data-ttu-id="5846e-230">Se il progetto usa il ripristino dei pacchetti integrato in MSBuild deprecato, eseguire la migrazione al ripristino dei pacchetti automatico.</span><span class="sxs-lookup"><span data-stu-id="5846e-230">If your project uses the deprecated MSBuild-integrated package restore, please migrate to automatic package restore.</span></span>

<span data-ttu-id="5846e-231">I progetti che usano MSBuild-Integrated il ripristino dei pacchetti contengono in genere una cartella *. NuGet* con tre file: *NuGet.config* , *nuget.exe* e *NuGet. targets* .</span><span class="sxs-lookup"><span data-stu-id="5846e-231">Projects that use MSBuild-Integrated package restore typically contain a *.nuget* folder with three files: *NuGet.config* , *nuget.exe* , and *NuGet.targets* .</span></span> <span data-ttu-id="5846e-232">La presenza di un file *NuGet. targets* determina se NuGet continuerà a usare l'approccio integrato di MSBuild, in modo che questo file debba essere rimosso durante la migrazione.</span><span class="sxs-lookup"><span data-stu-id="5846e-232">The presence of a *NuGet.targets* file determines whether NuGet will continue to use the MSBuild-integrated approach, so this file must be removed during the migration.</span></span>

<span data-ttu-id="5846e-233">Per eseguire la migrazione al ripristino dei pacchetti automatico:</span><span class="sxs-lookup"><span data-stu-id="5846e-233">To migrate to automatic package restore:</span></span>

1. <span data-ttu-id="5846e-234">Chiudere Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5846e-234">Close Visual Studio.</span></span>
2. <span data-ttu-id="5846e-235">Eliminare *.nuget/nuget.exe* e *.nuget/NuGet.targets* .</span><span class="sxs-lookup"><span data-stu-id="5846e-235">Delete *.nuget/nuget.exe* and *.nuget/NuGet.targets* .</span></span>
3. <span data-ttu-id="5846e-236">Per ogni file di progetto rimuovere l'elemento `<RestorePackages>` e rimuovere qualsiasi riferimento a *NuGet.targets* .</span><span class="sxs-lookup"><span data-stu-id="5846e-236">For each project file, remove the `<RestorePackages>` element and remove any reference to *NuGet.targets* .</span></span>

<span data-ttu-id="5846e-237">Per testare il ripristino dei pacchetti automatico:</span><span class="sxs-lookup"><span data-stu-id="5846e-237">To test the automatic package restore:</span></span>

1. <span data-ttu-id="5846e-238">Rimuovere la cartella *packages* dalla soluzione.</span><span class="sxs-lookup"><span data-stu-id="5846e-238">Remove the *packages* folder from the solution.</span></span>
2. <span data-ttu-id="5846e-239">Aprire la soluzione in Visual Studio e avviare una compilazione.</span><span class="sxs-lookup"><span data-stu-id="5846e-239">Open the solution in Visual Studio and start a build.</span></span>

   <span data-ttu-id="5846e-240">Il ripristino dei pacchetti automatico dovrebbe scaricare e installare ogni pacchetto di dipendenze, senza aggiungerli al controllo del codice sorgente.</span><span class="sxs-lookup"><span data-stu-id="5846e-240">Automatic package restore should download and install each dependency package, without adding them to source control.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="5846e-241">Risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="5846e-241">Troubleshooting</span></span>

<span data-ttu-id="5846e-242">Vedere [Risolvere gli errori relativi al ripristino dei pacchetti](package-restore-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="5846e-242">See [Troubleshoot package restore](package-restore-troubleshooting.md).</span></span>
